---
friendly_name: Ecosystem Client ID Deletion
description: >
  Provides ecosystem_client_id values that have appeared in a
  deletion-request ping.

  Also includes the hashed version of the ID to enable deletion
  of rows in derived tables containing the hash.
owners:
  - jklukas@mozilla.com
labels:
  application: aet
  schedule: daily
  incremental: true
scheduling:
  dag_name: bqetl_account_ecosystem
  # We access a restricted table for getting an HMAC key, so cannot dry run
  # and must explicitly list referenced tables.
  referenced_tables:
    - ['moz-fx-data-shared-prod', 'telemetry_stable', 'deletion_request_v4']

# Generated by bigquery_etl.dependency
references:
  query.sql:
  - moz-fx-data-shared-prod.account_ecosystem_restricted.encrypted_keys_v1
  - moz-fx-dataops-secrets.airflow_query_keys.aet_prod
  - telemetry_stable.deletion_request_v4
